Demo 04: Live Communication Trace
==================================
Aufbauend auf Demo 01-03 | +Transparenz

WAS WIR ZEIGEN: Die MCP-Kommunikation zwischen Client, Server und LLM
wird in Echtzeit sichtbar. Man sieht jeden Request live.

NEU GEGENUEBER DEMO 01-03:
- Farbcodierter Live-Trace in der Konsole
- Server-seitiges Tracing
- Protokoll-Details werden sichtbar

USE-CASE: Koch-Assistent mit Rezeptkatalog

VERFUEGBARE MCP-BAUSTEINE:
- Tools: docs.search, docs.random, trace.stats, trace.clear
- Resources: docs/catalog, docs/document/{id}, trace/logs, trace/logs/markdown
- Rezepte: Gnocchi Pesto Genovese, Tomatensuppe, Carbonara, Lasagne, u.v.m.

VORBEREITUNG
------------
Terminal 1: cd 04/server && dotnet run
Terminal 2: cd 04/client && dotnet run

Server laeuft auf http://localhost:5000/sse
Live-Trace ist standardmaessig AKTIV.

FARBEN IM LIVE-TRACE
--------------------
CYAN:    MCP-Kommunikation (Client <-> Server)
GELB:    LLM-Kommunikation (Client <-> LLM)
MAGENTA: Tool-Aufrufe (LLM ruft Tools auf)

SCHRITT-FUER-SCHRITT
--------------------

1. EINSTIEG - Rezepte erkunden
   Eingabe: Welche Rezepte hast du?

   -> LIVE-TRACE zeigt:
      [LLM] USER->CLIENT: Nutzer-Eingabe
      [LLM] CLIENT->LLM: Chat-Request
      [TOOL] LLM->CLIENT: mcp.read_resource(docs/catalog)
      [MCP] CLIENT->SERVER: resources/read
      [MCP] SERVER->CLIENT: resources/read: ... Zeichen

   -> Erklaere: Jede Zeile = ein Schritt in der Kommunikation

2. EINZELNES REZEPT
   Eingabe: Wie mache ich die Gnocchi?

   -> LIVE-TRACE zeigt Tool-Call fuer docs/document/recipe_gnocchi...
   -> Erklaere: LLM findet ID im Katalog, liest dann das Rezept

3. VERGLEICH (MULTI-TOOL)
   Eingabe: Vergleiche Gnocchi und Tomatensuppe - welches ist schneller?

   -> LIVE-TRACE zeigt MEHRERE Tool-Calls nacheinander
   -> Erklaere: LLM orchestriert mehrere Abrufe selbststaendig

4. HALLUZINATIONS-TEST
   Eingabe: Wie mache ich Sushi?

   -> LIVE-TRACE zeigt: LLM sucht, findet nichts
   -> Erwartet: Ehrliche Antwort "Kein Sushi-Rezept vorhanden"
   -> Erklaere: Grounding verhindert Halluzination

5. SERVER-TRACE ANZEIGEN
   Eingabe: :trace:server

   -> Zeigt die Server-Perspektive: HTTP-Requests, JSON-RPC
   -> Erklaere: Gleiche Kommunikation, andere Sichtweise

TRACE-BEFEHLE (waehrend Demo nutzbar)
-------------------------------------
:trace:off    - Live-Trace deaktivieren (ruhigere Ausgabe)
:trace:live   - Live-Trace wieder aktivieren
:trace        - Bisherigen Verlauf anzeigen
:trace:server - Server-Trace abrufen
:trace:clear  - Trace-Verlauf leeren

KERNAUSSAGE
-----------
"Jetzt sehen wir, was 'unter der Haube' passiert:
 JSON-RPC Aufrufe, HTTP Requests, Tool-Calls.
 MCP ist ein standardisiertes Protokoll - kein Voodoo."

OPTIONALE UEBERLEITUNG ZU DEMO 12
---------------------------------
"Bisher brauchten wir immer ein LLM.
 Aber MCP funktioniert auch ohne KI -
 als reiner Standard-Connector."
